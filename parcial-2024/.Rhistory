library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
ascorbate <- read_csv(".\ascorbate.csv")
ascorbate <- read_csv(".\datos\ascorbate.csv")
ascorbate <- read_csv(".\\datos\\ascorbate.csv")
ascorbate <- read_csv(".\\datos\\ascorbate.csv")
ascorbate
ascorbate <- read_csv(".\\datos\\ascorbate.csv", show_col_types = FALSE)
ascorbate
pivot_longer(ascorbate, cols=c("tipo_cancer", "dias_supervivencia"), values_to = "dias_supervivencia")
View(ascorbate)
?pivot_longer
pivot_longer(ascorbate, cols=c(stomach, breast), names_to = "tipo_cancer", values_to = "dias")
ascorbate <- read_csv(".\\datos\\ascorbate.csv", show_col_types = FALSE) |>
rename(stomach = estomago, breast = mama)
ascorbate <- read_csv(".\\datos\\ascorbate.csv", show_col_types = FALSE)
ascorbate|>
rename(stomach = estomago, breast = mama)
ascorbate|>
rename(estomago=stomach, mama = breast)
ascorbato <- pivot_longer(ascorbate, cols=c(stomach, breast), names_to = "tipo_cancer", values_to = "dias")
ascorbato
ascorbato
# Cargamos el conjunto de datos
# Traducimos los nombres de las columnas al español
ascorbate <- read_csv(".\\datos\\ascorbate.csv", show_col_types = FALSE) |>
rename(estomago=stomach, mama = breast)
# Para realizar la prueba de hipótesis visual, es necesario  que el conjunto de datos tengala siguiente forma: columnas = c("dias de supervivencia", "tipo de cáncer")
ascorbato <- pivot_longer(ascorbate, cols=c(stomach, breast), names_to = "tipo_cancer", values_to = "dias")
# Antes de realizar la prueba de hipótesis visual,
ascorbato
# Para realizar la prueba de hipótesis visual, es necesario  que el conjunto de datos tengala siguiente forma: columnas = c("dias de supervivencia", "tipo de cáncer")
ascorbato <- pivot_longer(ascorbate, cols=c(estomago, mama), names_to = "tipo_cancer", values_to = "dias")
# Antes de realizar la prueba de hipótesis visual,
ascorbato
ggplot(ascorbato, aes(y = factor(tipo_cancer))) +
geom_boxplot(x = dias)
ggplot(ascorbato, aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot()
ggplot(na.omit(ascorbato), aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot()
ggplot(na.omit(ascorbato), aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot() + labs(title='Distribución del número de días de supervivencia a pacientes de cáncer a quienes se les administró ascorbato')
ggplot(na.omit(ascorbato), aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot() + labs(title='Distribución del número de días de supervivencia a pacientes\n de cáncer a quienes se les administró ascorbato')
?labs
ggplot(na.omit(ascorbato), aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot() + labs(title='Distribución del número de días de supervivencia a pacientes\n de cáncer a quienes se les administró ascorbato',
x='Días de supervivencia', y ='Tipo de cancer')
# Antes de realizar la prueba de hipótesis visual, visualizaremos la distribución de días de supervivencia de la muestra original
ggplot(na.omit(ascorbato), aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot() + labs(title='Distribución del número de días de supervivencia a pacientes\n de cáncer a quienes se les administró ascorbato',
x='Días de supervivencia', y ='Tipo de cancer') +
scale_y_discrete(labels = c("estomago" = "Estómago", "mama" = "Mama"))
# Cargamos el conjunto de datos
# Traducimos los nombres de las columnas al español
ascorbate <- read_csv(".\\datos\\ascorbate.csv", show_col_types = FALSE) |>
rename(estomago=stomach, mama = breast)
# Para realizar la prueba de hipótesis visual, es necesario  que el conjunto de datos tengala siguiente forma: columnas = c("dias de supervivencia", "tipo de cáncer")
ascorbato <- pivot_longer(ascorbate, cols=c(estomago, mama), names_to = "tipo_cancer", values_to = "dias")
ggplot(na.omit(ascorbato), aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot() + labs(title='Distribución del número de días de supervivencia a pacientes\n de cáncer a quienes se les administró ascorbato',
x='Días de supervivencia', y ='Tipo de cancer') +
scale_y_discrete(labels = c("estomago" = "Estómago", "mama" = "Mama"))
ggplot(na.omit(ascorbato), aes(y = factor(tipo_cancer), x = dias)) +
geom_boxplot() + labs(title='Distribución del número de días de supervivencia a pacientes\n de cáncer a quienes se les administró ascorbato',
x='Días de supervivencia', y ='Tipo de cancer') +
scale_y_discrete(labels = c("estomago" = "Estómago", "mama" = "Mama"))
set.seed(2178827)
perms_tipo <- lineup(null_permute("tipo_cancer"), ascorbato, n = 20)
ggplot(perms_momento, aes(x = dias, y = tipo_cancer)) +
geom_boxplot() +
facet_wrap(~.sample)
set.seed(2178827)
perms_tipo <- lineup(null_permute("tipo_cancer"), ascorbato, n = 20)
ggplot(perms_tipo, aes(x = dias, y = tipo_cancer)) +
geom_boxplot() +
facet_wrap(~.sample)
install.packages("nullabor")
library(nullabor)
set.seed(2178827)
perms_tipo <- lineup(null_permute("tipo_cancer"), ascorbato, n = 20)
ggplot(perms_tipo, aes(x = dias, y = tipo_cancer)) +
geom_boxplot() +
facet_wrap(~.sample)
ggplot(na.omit(perms_tipo), aes(x = dias, y = tipo_cancer)) +
geom_boxplot() +
facet_wrap(~.sample)
library(nullabor)
set.seed(2178827)
perms_tipo <- lineup(null_permute("tipo_cancer"), na.omit(ascorbato), n = 20)
ggplot(perms_tipo, aes(x = dias, y = tipo_cancer)) +
geom_boxplot() +
facet_wrap(~.sample)
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
zolmitriptan_raw <- read_delim("datos/zolmitriptan-raw.txt",
"\t", escape_double = FALSE, trim_ws = TRUE)
# Pivoteamos para tener un dataframe que podamos gráficar.
zolmitriptan <- zolmitriptan_raw |> pivot_longer(cols = c(starts_with("HR")), names_prefix = "HR",  names_to = "hora", values_to =  "concentracion") |>
mutate(hora = as.numeric(hora)/10,
formulation = if_else(formulation=="T", "Prueba", "Referencia"))
ggplot(zolmitriptan, aes(x = hora, y = concentracion, group = formulation, colour = formulation)) +
geom_line() +
labs(title="Concentración de Zolmitriptano en la sangre para diversos individuos",x="Tiempo transcurrido desde la toma de la dosis (horas)", y ="Zolmitriptano (mCG/ml)") +
theme(panel.spacing = unit(0.1, "lines")) +
theme_bw(base_size = 15) +
theme(strip.text = element_text(size = 12)) +
facet_wrap(~subj, ncol = 6, scales="free")
auc <- zolmitriptan |>
select(subj, formulation, hora, concentracion) |>
group_by(subj, formulation) |>
mutate(hora_base = hora - lag(hora),
concentracion_altura = (concentracion+lag(concentracion))/2,
base_altura = hora_base*concentracion_altura) |>
summarize(auc= sum(base_altura, na.rm=TRUE))
ggplot(auc, aes(x=formulation, y = auc)) +
geom_boxplot() +
labs(title="Distribución del área bajo la curva\nde la concentración de Zolmitriptan",
x= "Formulación",
y= "Área bajo la curva")
auc <- zolmitriptan |>
select(subj, formulation, hora, concentracion) |>
group_by(subj, formulation) |>
mutate(hora_base = hora - lag(hora),
concentracion_altura = (concentracion+lag(concentracion))/2,
base_altura = hora_base*concentracion_altura) |>
summarize(auc= sum(base_altura, na.rm=TRUE))
g1 <- ggplot(auc, aes(x=formulation, y = auc)) +
geom_boxplot() +
labs(title="Distribución del área bajo la curva\nde la concentración de Zolmitriptan",
x= "Formulación",
y= "Área bajo la curva")
auc
install.packages("gt")
library(gt)
auc <- zolmitriptan |>
select(subj, formulation, hora, concentracion) |>
group_by(subj, formulation) |>
mutate(hora_base = hora - lag(hora),
concentracion_altura = (concentracion+lag(concentracion))/2,
base_altura = hora_base*concentracion_altura) |>
summarize(auc= sum(base_altura, na.rm=TRUE))
g1 <- ggplot(auc, aes(x=formulation, y = auc)) +
geom_boxplot() +
labs(title="Distribución del área bajo la curva\nde la concentración de Zolmitriptan",
x= "Formulación",
y= "Área bajo la curva")
gt(auc)
library(gt)
auc <- zolmitriptan |>
select(subj, formulation, hora, concentracion) |>
group_by(subj, formulation) |>
mutate(hora_base = hora - lag(hora),
concentracion_altura = (concentracion+lag(concentracion))/2,
base_altura = hora_base*concentracion_altura) |>
summarize(auc= sum(base_altura, na.rm=TRUE))
g1 <- ggplot(auc, aes(x=formulation, y = auc)) +
geom_boxplot() +
labs(title="Distribución del área bajo la curva\nde la concentración de Zolmitriptan",
x= "Formulación",
y= "Área bajo la curva")
gt(auc)
library(gt)
install.packages( "rlang")
install.packages("rlang")
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
# Pivoteamos para tener un dataframe que podamos gráficar.
zolmitriptan <- zolmitriptan_raw |> pivot_longer(cols = c(starts_with("HR")), names_prefix = "HR",  names_to = "hora", values_to =  "concentracion") |>
mutate(hora = as.numeric(hora)/10,
formulation = if_else(formulation=="T", "Prueba", "Referencia"))
ggplot(zolmitriptan, aes(x = hora, y = concentracion, group = formulation, colour = formulation)) +
geom_line() +
labs(title="Concentración de Zolmitriptano en la sangre para diversos individuos",x="Tiempo transcurrido desde la toma de la dosis (horas)", y ="Zolmitriptano (mCG/ml)") +
theme(panel.spacing = unit(0.1, "lines")) +
theme_bw(base_size = 15) +
theme(strip.text = element_text(size = 12)) +
facet_wrap(~subj, ncol = 6, scales="free")
library(gt)
auc <- zolmitriptan |>
select(subj, formulation, hora, concentracion) |>
group_by(subj, formulation) |>
mutate(hora_base = hora - lag(hora),
concentracion_altura = (concentracion+lag(concentracion))/2,
base_altura = hora_base*concentracion_altura) |>
summarize(auc= sum(base_altura, na.rm=TRUE))
g1 <- ggplot(auc, aes(x=formulation, y = auc)) +
geom_boxplot() +
labs(title="Distribución del área bajo la curva\nde la concentración de Zolmitriptan",
x= "Formulación",
y= "Área bajo la curva")
gt(auc)
# Pivoteamos para tener un dataframe que podamos gráficar.
zolmitriptan <- zolmitriptan_raw |> pivot_longer(cols = c(starts_with("HR")), names_prefix = "HR",  names_to = "hora", values_to =  "concentracion") |>
mutate(hora = as.numeric(hora)/10,
formulation = if_else(formulation=="T", "Prueba", "Referencia"))
ggplot(zolmitriptan, aes(x = hora, y = concentracion, group = formulation, colour = formulation)) +
geom_line() +
labs(title="Concentración de Zolmitriptano en la sangre para diversos individuos",x="Tiempo transcurrido desde la toma de la dosis (horas)", y ="Zolmitriptano (mCG/ml)") +
theme(panel.spacing = unit(0.1, "lines")) +
theme_bw(base_size = 15) +
theme(strip.text = element_text(size = 12)) +
facet_wrap(~subj, ncol = 6, scales="free")
install.packages("rlang")
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
zolmitriptan_raw <- read_delim("datos/zolmitriptan-raw.txt",
"\t", escape_double = FALSE, trim_ws = TRUE)
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
install.packages("tidyverse")
install.packages("rlang", INSTALL_opts = c("--no-lock"))
install.packages("tidyverse", dependencies = TRUE)
install.packages("tidyverse", dependencies = TRUE)
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
zolmitriptan_raw <- read_delim("datos/zolmitriptan-raw.txt",
"\t", escape_double = FALSE, trim_ws = TRUE)
# Pivoteamos para tener un dataframe que podamos gráficar.
zolmitriptan <- zolmitriptan_raw |> pivot_longer(cols = c(starts_with("HR")), names_prefix = "HR",  names_to = "hora", values_to =  "concentracion") |>
mutate(hora = as.numeric(hora)/10,
formulation = if_else(formulation=="T", "Prueba", "Referencia"))
ggplot(zolmitriptan, aes(x = hora, y = concentracion, group = formulation, colour = formulation)) +
geom_line() +
labs(title="Concentración de Zolmitriptano en la sangre para diversos individuos",x="Tiempo transcurrido desde la toma de la dosis (horas)", y ="Zolmitriptano (mCG/ml)") +
theme(panel.spacing = unit(0.1, "lines")) +
theme_bw(base_size = 15) +
theme(strip.text = element_text(size = 12)) +
facet_wrap(~subj, ncol = 6, scales="free")
library(gt)
auc <- zolmitriptan |>
select(subj, formulation, hora, concentracion) |>
group_by(subj, formulation) |>
mutate(hora_base = hora - lag(hora),
concentracion_altura = (concentracion+lag(concentracion))/2,
base_altura = hora_base*concentracion_altura) |>
summarize(auc= sum(base_altura, na.rm=TRUE))
g1 <- ggplot(auc, aes(x=formulation, y = auc)) +
geom_boxplot() +
labs(title="Distribución del área bajo la curva\nde la concentración de Zolmitriptan",
x= "Formulación",
y= "Área bajo la curva")
gt(auc)
View(auc)
